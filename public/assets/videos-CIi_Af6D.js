import{bG as Be}from"./index-CZqxtZeR.js";import{C as ie,D as ae,H as Le}from"./MyApp-BLN8mlz9.js";var ge={};const Ue={},Ve=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"})),de=Be(Ve);(function(n){(function(t){t.parser=function(i,e){return new o(i,e)},t.SAXParser=o,t.SAXStream=I,t.createStream=p,t.MAX_BUFFER_LENGTH=64*1024;var s=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function o(i,e){if(!(this instanceof o))return new o(i,e);var c=this;f(c),c.q=c.c="",c.bufferCheckPosition=t.MAX_BUFFER_LENGTH,c.opt=e||{},c.opt.lowercase=c.opt.lowercase||c.opt.lowercasetags,c.looseCase=c.opt.lowercase?"toLowerCase":"toUpperCase",c.tags=[],c.closed=c.closedRoot=c.sawRoot=!1,c.tag=c.error=null,c.strict=!!i,c.noscript=!!(i||c.opt.noscript),c.state=r.BEGIN,c.strictEntities=c.opt.strictEntities,c.ENTITIES=c.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),c.attribList=[],c.opt.xmlns&&(c.ns=Object.create(G)),c.opt.unquotedAttributeValues===void 0&&(c.opt.unquotedAttributeValues=!i),c.trackPosition=c.opt.position!==!1,c.trackPosition&&(c.position=c.line=c.column=0),X(c,"onready")}Object.create||(Object.create=function(i){function e(){}e.prototype=i;var c=new e;return c}),Object.keys||(Object.keys=function(i){var e=[];for(var c in i)i.hasOwnProperty(c)&&e.push(c);return e});function l(i){for(var e=Math.max(t.MAX_BUFFER_LENGTH,10),c=0,a=0,_=s.length;a<_;a++){var b=i[s[a]].length;if(b>e)switch(s[a]){case"textNode":H(i);break;case"cdata":N(i,"oncdata",i.cdata),i.cdata="";break;case"script":N(i,"onscript",i.script),i.script="";break;default:Q(i,"Max buffer length exceeded: "+s[a])}c=Math.max(c,b)}var F=t.MAX_BUFFER_LENGTH-c;i.bufferCheckPosition=F+i.position}function f(i){for(var e=0,c=s.length;e<c;e++)i[s[e]]=""}function m(i){H(i),i.cdata!==""&&(N(i,"oncdata",i.cdata),i.cdata=""),i.script!==""&&(N(i,"onscript",i.script),i.script="")}o.prototype={end:function(){le(this)},write:Pe,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){m(this)}};var T;try{T=de.Stream}catch{T=function(){}}T||(T=function(){});var w=t.EVENTS.filter(function(i){return i!=="error"&&i!=="end"});function p(i,e){return new I(i,e)}function I(i,e){if(!(this instanceof I))return new I(i,e);T.apply(this),this._parser=new o(i,e),this.writable=!0,this.readable=!0;var c=this;this._parser.onend=function(){c.emit("end")},this._parser.onerror=function(a){c.emit("error",a),c._parser.error=null},this._decoder=null,w.forEach(function(a){Object.defineProperty(c,"on"+a,{get:function(){return c._parser["on"+a]},set:function(_){if(!_)return c.removeAllListeners(a),c._parser["on"+a]=_,_;c.on(a,_)},enumerable:!0,configurable:!1})})}I.prototype=Object.create(T.prototype,{constructor:{value:I}}),I.prototype.write=function(i){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(i)){if(!this._decoder){var e=de.StringDecoder;this._decoder=new e("utf8")}i=this._decoder.write(i)}return this._parser.write(i.toString()),this.emit("data",i),!0},I.prototype.end=function(i){return i&&i.length&&this.write(i),this._parser.end(),!0},I.prototype.on=function(i,e){var c=this;return!c._parser["on"+i]&&w.indexOf(i)!==-1&&(c._parser["on"+i]=function(){var a=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);a.splice(0,0,i),c.emit.apply(c,a)}),T.prototype.on.call(c,i,e)};var V="[CDATA[",M="DOCTYPE",P="http://www.w3.org/XML/1998/namespace",R="http://www.w3.org/2000/xmlns/",G={xml:P,xmlns:R},S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,j=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function h(i){return i===" "||i===`
`||i==="\r"||i==="	"}function $(i){return i==='"'||i==="'"}function we(i){return i===">"||h(i)}function L(i,e){return i.test(e)}function Se(i,e){return!L(i,e)}var r=0;t.STATE={BEGIN:r++,BEGIN_WHITESPACE:r++,TEXT:r++,TEXT_ENTITY:r++,OPEN_WAKA:r++,SGML_DECL:r++,SGML_DECL_QUOTED:r++,DOCTYPE:r++,DOCTYPE_QUOTED:r++,DOCTYPE_DTD:r++,DOCTYPE_DTD_QUOTED:r++,COMMENT_STARTING:r++,COMMENT:r++,COMMENT_ENDING:r++,COMMENT_ENDED:r++,CDATA:r++,CDATA_ENDING:r++,CDATA_ENDING_2:r++,PROC_INST:r++,PROC_INST_BODY:r++,PROC_INST_ENDING:r++,OPEN_TAG:r++,OPEN_TAG_SLASH:r++,ATTRIB:r++,ATTRIB_NAME:r++,ATTRIB_NAME_SAW_WHITE:r++,ATTRIB_VALUE:r++,ATTRIB_VALUE_QUOTED:r++,ATTRIB_VALUE_CLOSED:r++,ATTRIB_VALUE_UNQUOTED:r++,ATTRIB_VALUE_ENTITY_Q:r++,ATTRIB_VALUE_ENTITY_U:r++,CLOSE_TAG:r++,CLOSE_TAG_SAW_WHITE:r++,SCRIPT:r++,SCRIPT_ENDING:r++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(i){var e=t.ENTITIES[i],c=typeof e=="number"?String.fromCharCode(e):e;t.ENTITIES[i]=c});for(var ce in t.STATE)t.STATE[t.STATE[ce]]=ce;r=t.STATE;function X(i,e,c){i[e]&&i[e](c)}function N(i,e,c){i.textNode&&H(i),X(i,e,c)}function H(i){i.textNode=oe(i.opt,i.textNode),i.textNode&&X(i,"ontext",i.textNode),i.textNode=""}function oe(i,e){return i.trim&&(e=e.trim()),i.normalize&&(e=e.replace(/\s+/g," ")),e}function Q(i,e){return H(i),i.trackPosition&&(e+=`
Line: `+i.line+`
Column: `+i.column+`
Char: `+i.c),e=new Error(e),i.error=e,X(i,"onerror",e),i}function le(i){return i.sawRoot&&!i.closedRoot&&A(i,"Unclosed root tag"),i.state!==r.BEGIN&&i.state!==r.BEGIN_WHITESPACE&&i.state!==r.TEXT&&Q(i,"Unexpected end"),H(i),i.c="",i.closed=!0,X(i,"onend"),o.call(i,i.strict,i.opt),i}function A(i,e){if(typeof i!="object"||!(i instanceof o))throw new Error("bad call to strictFail");i.strict&&Q(i,e)}function pe(i){i.strict||(i.tagName=i.tagName[i.looseCase]());var e=i.tags[i.tags.length-1]||i,c=i.tag={name:i.tagName,attributes:{}};i.opt.xmlns&&(c.ns=e.ns),i.attribList.length=0,N(i,"onopentagstart",c)}function Z(i,e){var c=i.indexOf(":"),a=c<0?["",i]:i.split(":"),_=a[0],b=a[1];return e&&i==="xmlns"&&(_="xmlns",b=""),{prefix:_,local:b}}function ee(i){if(i.strict||(i.attribName=i.attribName[i.looseCase]()),i.attribList.indexOf(i.attribName)!==-1||i.tag.attributes.hasOwnProperty(i.attribName)){i.attribName=i.attribValue="";return}if(i.opt.xmlns){var e=Z(i.attribName,!0),c=e.prefix,a=e.local;if(c==="xmlns")if(a==="xml"&&i.attribValue!==P)A(i,"xml: prefix must be bound to "+P+`
Actual: `+i.attribValue);else if(a==="xmlns"&&i.attribValue!==R)A(i,"xmlns: prefix must be bound to "+R+`
Actual: `+i.attribValue);else{var _=i.tag,b=i.tags[i.tags.length-1]||i;_.ns===b.ns&&(_.ns=Object.create(b.ns)),_.ns[a]=i.attribValue}i.attribList.push([i.attribName,i.attribValue])}else i.tag.attributes[i.attribName]=i.attribValue,N(i,"onattribute",{name:i.attribName,value:i.attribValue});i.attribName=i.attribValue=""}function k(i,e){if(i.opt.xmlns){var c=i.tag,a=Z(i.tagName);c.prefix=a.prefix,c.local=a.local,c.uri=c.ns[a.prefix]||"",c.prefix&&!c.uri&&(A(i,"Unbound namespace prefix: "+JSON.stringify(i.tagName)),c.uri=a.prefix);var _=i.tags[i.tags.length-1]||i;c.ns&&_.ns!==c.ns&&Object.keys(c.ns).forEach(function(Te){N(i,"onopennamespace",{prefix:Te,uri:c.ns[Te]})});for(var b=0,F=i.attribList.length;b<F;b++){var x=i.attribList[b],O=x[0],Y=x[1],v=Z(O,!0),U=v.prefix,Re=v.local,Ee=U===""?"":c.ns[U]||"",ne={name:O,value:Y,prefix:U,local:Re,uri:Ee};U&&U!=="xmlns"&&!Ee&&(A(i,"Unbound namespace prefix: "+JSON.stringify(U)),ne.uri=U),i.tag.attributes[O]=ne,N(i,"onattribute",ne)}i.attribList.length=0}i.tag.isSelfClosing=!!e,i.sawRoot=!0,i.tags.push(i.tag),N(i,"onopentag",i.tag),e||(!i.noscript&&i.tagName.toLowerCase()==="script"?i.state=r.SCRIPT:i.state=r.TEXT,i.tag=null,i.tagName=""),i.attribName=i.attribValue="",i.attribList.length=0}function te(i){if(!i.tagName){A(i,"Weird empty close tag."),i.textNode+="</>",i.state=r.TEXT;return}if(i.script){if(i.tagName!=="script"){i.script+="</"+i.tagName+">",i.tagName="",i.state=r.SCRIPT;return}N(i,"onscript",i.script),i.script=""}var e=i.tags.length,c=i.tagName;i.strict||(c=c[i.looseCase]());for(var a=c;e--;){var _=i.tags[e];if(_.name!==a)A(i,"Unexpected close tag");else break}if(e<0){A(i,"Unmatched closing tag: "+i.tagName),i.textNode+="</"+i.tagName+">",i.state=r.TEXT;return}i.tagName=c;for(var b=i.tags.length;b-- >e;){var F=i.tag=i.tags.pop();i.tagName=i.tag.name,N(i,"onclosetag",i.tagName);var x={};for(var O in F.ns)x[O]=F.ns[O];var Y=i.tags[i.tags.length-1]||i;i.opt.xmlns&&F.ns!==Y.ns&&Object.keys(F.ns).forEach(function(v){var U=F.ns[v];N(i,"onclosenamespace",{prefix:v,uri:U})})}e===0&&(i.closedRoot=!0),i.tagName=i.attribValue=i.attribName="",i.attribList.length=0,i.state=r.TEXT}function Ke(i){var e=i.entity,c=e.toLowerCase(),a,_="";return i.ENTITIES[e]?i.ENTITIES[e]:i.ENTITIES[c]?i.ENTITIES[c]:(e=c,e.charAt(0)==="#"&&(e.charAt(1)==="x"?(e=e.slice(2),a=parseInt(e,16),_=a.toString(16)):(e=e.slice(1),a=parseInt(e,10),_=a.toString(10))),e=e.replace(/^0+/,""),isNaN(a)||_.toLowerCase()!==e?(A(i,"Invalid character entity"),"&"+i.entity+";"):String.fromCodePoint(a))}function fe(i,e){e==="<"?(i.state=r.OPEN_WAKA,i.startTagPosition=i.position):h(e)||(A(i,"Non-whitespace before first tag."),i.textNode=e,i.state=r.TEXT)}function me(i,e){var c="";return e<i.length&&(c=i.charAt(e)),c}function Pe(i){var e=this;if(this.error)throw this.error;if(e.closed)return Q(e,"Cannot write after close. Assign an onready handler.");if(i===null)return le(e);typeof i=="object"&&(i=i.toString());for(var c=0,a="";a=me(i,c++),e.c=a,!!a;)switch(e.trackPosition&&(e.position++,a===`
`?(e.line++,e.column=0):e.column++),e.state){case r.BEGIN:if(e.state=r.BEGIN_WHITESPACE,a==="\uFEFF")continue;fe(e,a);continue;case r.BEGIN_WHITESPACE:fe(e,a);continue;case r.TEXT:if(e.sawRoot&&!e.closedRoot){for(var _=c-1;a&&a!=="<"&&a!=="&";)a=me(i,c++),a&&e.trackPosition&&(e.position++,a===`
`?(e.line++,e.column=0):e.column++);e.textNode+=i.substring(_,c-1)}a==="<"&&!(e.sawRoot&&e.closedRoot&&!e.strict)?(e.state=r.OPEN_WAKA,e.startTagPosition=e.position):(!h(a)&&(!e.sawRoot||e.closedRoot)&&A(e,"Text data outside of root node."),a==="&"?e.state=r.TEXT_ENTITY:e.textNode+=a);continue;case r.SCRIPT:a==="<"?e.state=r.SCRIPT_ENDING:e.script+=a;continue;case r.SCRIPT_ENDING:a==="/"?e.state=r.CLOSE_TAG:(e.script+="<"+a,e.state=r.SCRIPT);continue;case r.OPEN_WAKA:if(a==="!")e.state=r.SGML_DECL,e.sgmlDecl="";else if(!h(a))if(L(S,a))e.state=r.OPEN_TAG,e.tagName=a;else if(a==="/")e.state=r.CLOSE_TAG,e.tagName="";else if(a==="?")e.state=r.PROC_INST,e.procInstName=e.procInstBody="";else{if(A(e,"Unencoded <"),e.startTagPosition+1<e.position){var b=e.position-e.startTagPosition;a=new Array(b).join(" ")+a}e.textNode+="<"+a,e.state=r.TEXT}continue;case r.SGML_DECL:if(e.sgmlDecl+a==="--"){e.state=r.COMMENT,e.comment="",e.sgmlDecl="";continue}e.doctype&&e.doctype!==!0&&e.sgmlDecl?(e.state=r.DOCTYPE_DTD,e.doctype+="<!"+e.sgmlDecl+a,e.sgmlDecl=""):(e.sgmlDecl+a).toUpperCase()===V?(N(e,"onopencdata"),e.state=r.CDATA,e.sgmlDecl="",e.cdata=""):(e.sgmlDecl+a).toUpperCase()===M?(e.state=r.DOCTYPE,(e.doctype||e.sawRoot)&&A(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):a===">"?(N(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=r.TEXT):($(a)&&(e.state=r.SGML_DECL_QUOTED),e.sgmlDecl+=a);continue;case r.SGML_DECL_QUOTED:a===e.q&&(e.state=r.SGML_DECL,e.q=""),e.sgmlDecl+=a;continue;case r.DOCTYPE:a===">"?(e.state=r.TEXT,N(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=a,a==="["?e.state=r.DOCTYPE_DTD:$(a)&&(e.state=r.DOCTYPE_QUOTED,e.q=a));continue;case r.DOCTYPE_QUOTED:e.doctype+=a,a===e.q&&(e.q="",e.state=r.DOCTYPE);continue;case r.DOCTYPE_DTD:a==="]"?(e.doctype+=a,e.state=r.DOCTYPE):a==="<"?(e.state=r.OPEN_WAKA,e.startTagPosition=e.position):$(a)?(e.doctype+=a,e.state=r.DOCTYPE_DTD_QUOTED,e.q=a):e.doctype+=a;continue;case r.DOCTYPE_DTD_QUOTED:e.doctype+=a,a===e.q&&(e.state=r.DOCTYPE_DTD,e.q="");continue;case r.COMMENT:a==="-"?e.state=r.COMMENT_ENDING:e.comment+=a;continue;case r.COMMENT_ENDING:a==="-"?(e.state=r.COMMENT_ENDED,e.comment=oe(e.opt,e.comment),e.comment&&N(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+a,e.state=r.COMMENT);continue;case r.COMMENT_ENDED:a!==">"?(A(e,"Malformed comment"),e.comment+="--"+a,e.state=r.COMMENT):e.doctype&&e.doctype!==!0?e.state=r.DOCTYPE_DTD:e.state=r.TEXT;continue;case r.CDATA:a==="]"?e.state=r.CDATA_ENDING:e.cdata+=a;continue;case r.CDATA_ENDING:a==="]"?e.state=r.CDATA_ENDING_2:(e.cdata+="]"+a,e.state=r.CDATA);continue;case r.CDATA_ENDING_2:a===">"?(e.cdata&&N(e,"oncdata",e.cdata),N(e,"onclosecdata"),e.cdata="",e.state=r.TEXT):a==="]"?e.cdata+="]":(e.cdata+="]]"+a,e.state=r.CDATA);continue;case r.PROC_INST:a==="?"?e.state=r.PROC_INST_ENDING:h(a)?e.state=r.PROC_INST_BODY:e.procInstName+=a;continue;case r.PROC_INST_BODY:if(!e.procInstBody&&h(a))continue;a==="?"?e.state=r.PROC_INST_ENDING:e.procInstBody+=a;continue;case r.PROC_INST_ENDING:a===">"?(N(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=r.TEXT):(e.procInstBody+="?"+a,e.state=r.PROC_INST_BODY);continue;case r.OPEN_TAG:L(B,a)?e.tagName+=a:(pe(e),a===">"?k(e):a==="/"?e.state=r.OPEN_TAG_SLASH:(h(a)||A(e,"Invalid character in tag name"),e.state=r.ATTRIB));continue;case r.OPEN_TAG_SLASH:a===">"?(k(e,!0),te(e)):(A(e,"Forward-slash in opening tag not followed by >"),e.state=r.ATTRIB);continue;case r.ATTRIB:if(h(a))continue;a===">"?k(e):a==="/"?e.state=r.OPEN_TAG_SLASH:L(S,a)?(e.attribName=a,e.attribValue="",e.state=r.ATTRIB_NAME):A(e,"Invalid attribute name");continue;case r.ATTRIB_NAME:a==="="?e.state=r.ATTRIB_VALUE:a===">"?(A(e,"Attribute without value"),e.attribValue=e.attribName,ee(e),k(e)):h(a)?e.state=r.ATTRIB_NAME_SAW_WHITE:L(B,a)?e.attribName+=a:A(e,"Invalid attribute name");continue;case r.ATTRIB_NAME_SAW_WHITE:if(a==="=")e.state=r.ATTRIB_VALUE;else{if(h(a))continue;A(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",N(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",a===">"?k(e):L(S,a)?(e.attribName=a,e.state=r.ATTRIB_NAME):(A(e,"Invalid attribute name"),e.state=r.ATTRIB)}continue;case r.ATTRIB_VALUE:if(h(a))continue;$(a)?(e.q=a,e.state=r.ATTRIB_VALUE_QUOTED):(e.opt.unquotedAttributeValues||Q(e,"Unquoted attribute value"),e.state=r.ATTRIB_VALUE_UNQUOTED,e.attribValue=a);continue;case r.ATTRIB_VALUE_QUOTED:if(a!==e.q){a==="&"?e.state=r.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=a;continue}ee(e),e.q="",e.state=r.ATTRIB_VALUE_CLOSED;continue;case r.ATTRIB_VALUE_CLOSED:h(a)?e.state=r.ATTRIB:a===">"?k(e):a==="/"?e.state=r.OPEN_TAG_SLASH:L(S,a)?(A(e,"No whitespace between attributes"),e.attribName=a,e.attribValue="",e.state=r.ATTRIB_NAME):A(e,"Invalid attribute name");continue;case r.ATTRIB_VALUE_UNQUOTED:if(!we(a)){a==="&"?e.state=r.ATTRIB_VALUE_ENTITY_U:e.attribValue+=a;continue}ee(e),a===">"?k(e):e.state=r.ATTRIB;continue;case r.CLOSE_TAG:if(e.tagName)a===">"?te(e):L(B,a)?e.tagName+=a:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=r.SCRIPT):(h(a)||A(e,"Invalid tagname in closing tag"),e.state=r.CLOSE_TAG_SAW_WHITE);else{if(h(a))continue;Se(S,a)?e.script?(e.script+="</"+a,e.state=r.SCRIPT):A(e,"Invalid tagname in closing tag."):e.tagName=a}continue;case r.CLOSE_TAG_SAW_WHITE:if(h(a))continue;a===">"?te(e):A(e,"Invalid characters in closing tag");continue;case r.TEXT_ENTITY:case r.ATTRIB_VALUE_ENTITY_Q:case r.ATTRIB_VALUE_ENTITY_U:var F,x;switch(e.state){case r.TEXT_ENTITY:F=r.TEXT,x="textNode";break;case r.ATTRIB_VALUE_ENTITY_Q:F=r.ATTRIB_VALUE_QUOTED,x="attribValue";break;case r.ATTRIB_VALUE_ENTITY_U:F=r.ATTRIB_VALUE_UNQUOTED,x="attribValue";break}if(a===";"){var O=Ke(e);e.opt.unparsedEntities&&!Object.values(t.XML_ENTITIES).includes(O)?(e.entity="",e.state=F,e.write(O)):(e[x]+=O,e.entity="",e.state=F)}else L(e.entity.length?d:j,a)?e.entity+=a:(A(e,"Invalid character in entity name"),e[x]+="&"+e.entity+a,e.entity="",e.state=F);continue;default:throw new Error(e,"Unknown state: "+e.state)}return e.position>=e.bufferCheckPosition&&l(e),e}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var i=String.fromCharCode,e=Math.floor,c=function(){var a=16384,_=[],b,F,x=-1,O=arguments.length;if(!O)return"";for(var Y="";++x<O;){var v=Number(arguments[x]);if(!isFinite(v)||v<0||v>1114111||e(v)!==v)throw RangeError("Invalid code point: "+v);v<=65535?_.push(v):(v-=65536,b=(v>>10)+55296,F=v%1024+56320,_.push(b,F)),(x+1===O||_.length>a)&&(Y+=i.apply(null,_),_.length=0)}return Y};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c}()})(n)})(ge);var re={isArray:function(n){return Array.isArray?Array.isArray(n):Object.prototype.toString.call(n)==="[object Array]"}},Me=re.isArray,se={copyOptions:function(n){var t,s={};for(t in n)n.hasOwnProperty(t)&&(s[t]=n[t]);return s},ensureFlagExists:function(n,t){(!(n in t)||typeof t[n]!="boolean")&&(t[n]=!1)},ensureSpacesExists:function(n){(!("spaces"in n)||typeof n.spaces!="number"&&typeof n.spaces!="string")&&(n.spaces=0)},ensureAlwaysArrayExists:function(n){(!("alwaysArray"in n)||typeof n.alwaysArray!="boolean"&&!Me(n.alwaysArray))&&(n.alwaysArray=!1)},ensureKeyExists:function(n,t){(!(n+"Key"in t)||typeof t[n+"Key"]!="string")&&(t[n+"Key"]=t.compact?"_"+n:n)},checkFnExists:function(n,t){return n+"Fn"in t}},Ge=ge,y=se,q=re.isArray,u,E;function je(n){return u=y.copyOptions(n),y.ensureFlagExists("ignoreDeclaration",u),y.ensureFlagExists("ignoreInstruction",u),y.ensureFlagExists("ignoreAttributes",u),y.ensureFlagExists("ignoreText",u),y.ensureFlagExists("ignoreComment",u),y.ensureFlagExists("ignoreCdata",u),y.ensureFlagExists("ignoreDoctype",u),y.ensureFlagExists("compact",u),y.ensureFlagExists("alwaysChildren",u),y.ensureFlagExists("addParent",u),y.ensureFlagExists("trim",u),y.ensureFlagExists("nativeType",u),y.ensureFlagExists("nativeTypeAttributes",u),y.ensureFlagExists("sanitize",u),y.ensureFlagExists("instructionHasAttributes",u),y.ensureFlagExists("captureSpacesBetweenElements",u),y.ensureAlwaysArrayExists(u),y.ensureKeyExists("declaration",u),y.ensureKeyExists("instruction",u),y.ensureKeyExists("attributes",u),y.ensureKeyExists("text",u),y.ensureKeyExists("comment",u),y.ensureKeyExists("cdata",u),y.ensureKeyExists("doctype",u),y.ensureKeyExists("type",u),y.ensureKeyExists("name",u),y.ensureKeyExists("elements",u),y.ensureKeyExists("parent",u),y.checkFnExists("doctype",u),y.checkFnExists("instruction",u),y.checkFnExists("cdata",u),y.checkFnExists("comment",u),y.checkFnExists("text",u),y.checkFnExists("instructionName",u),y.checkFnExists("elementName",u),y.checkFnExists("attributeName",u),y.checkFnExists("attributeValue",u),y.checkFnExists("attributes",u),u}function _e(n){var t=Number(n);if(!isNaN(t))return t;var s=n.toLowerCase();return s==="true"?!0:s==="false"?!1:n}function W(n,t){var s;if(u.compact){if(!E[u[n+"Key"]]&&(q(u.alwaysArray)?u.alwaysArray.indexOf(u[n+"Key"])!==-1:u.alwaysArray)&&(E[u[n+"Key"]]=[]),E[u[n+"Key"]]&&!q(E[u[n+"Key"]])&&(E[u[n+"Key"]]=[E[u[n+"Key"]]]),n+"Fn"in u&&typeof t=="string"&&(t=u[n+"Fn"](t,E)),n==="instruction"&&("instructionFn"in u||"instructionNameFn"in u)){for(s in t)if(t.hasOwnProperty(s))if("instructionFn"in u)t[s]=u.instructionFn(t[s],s,E);else{var o=t[s];delete t[s],t[u.instructionNameFn(s,o,E)]=o}}q(E[u[n+"Key"]])?E[u[n+"Key"]].push(t):E[u[n+"Key"]]=t}else{E[u.elementsKey]||(E[u.elementsKey]=[]);var l={};if(l[u.typeKey]=n,n==="instruction"){for(s in t)if(t.hasOwnProperty(s))break;l[u.nameKey]="instructionNameFn"in u?u.instructionNameFn(s,t,E):s,u.instructionHasAttributes?(l[u.attributesKey]=t[s][u.attributesKey],"instructionFn"in u&&(l[u.attributesKey]=u.instructionFn(l[u.attributesKey],s,E))):("instructionFn"in u&&(t[s]=u.instructionFn(t[s],s,E)),l[u.instructionKey]=t[s])}else n+"Fn"in u&&(t=u[n+"Fn"](t,E)),l[u[n+"Key"]]=t;u.addParent&&(l[u.parentKey]=E),E[u.elementsKey].push(l)}}function Ae(n){if("attributesFn"in u&&n&&(n=u.attributesFn(n,E)),(u.trim||"attributeValueFn"in u||"attributeNameFn"in u||u.nativeTypeAttributes)&&n){var t;for(t in n)if(n.hasOwnProperty(t)&&(u.trim&&(n[t]=n[t].trim()),u.nativeTypeAttributes&&(n[t]=_e(n[t])),"attributeValueFn"in u&&(n[t]=u.attributeValueFn(n[t],t,E)),"attributeNameFn"in u)){var s=n[t];delete n[t],n[u.attributeNameFn(t,n[t],E)]=s}}return n}function ke(n){var t={};if(n.body&&(n.name.toLowerCase()==="xml"||u.instructionHasAttributes)){for(var s=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,o;(o=s.exec(n.body))!==null;)t[o[1]]=o[2]||o[3]||o[4];t=Ae(t)}if(n.name.toLowerCase()==="xml"){if(u.ignoreDeclaration)return;E[u.declarationKey]={},Object.keys(t).length&&(E[u.declarationKey][u.attributesKey]=t),u.addParent&&(E[u.declarationKey][u.parentKey]=E)}else{if(u.ignoreInstruction)return;u.trim&&(n.body=n.body.trim());var l={};u.instructionHasAttributes&&Object.keys(t).length?(l[n.name]={},l[n.name][u.attributesKey]=t):l[n.name]=n.body,W("instruction",l)}}function Ye(n,t){var s;if(typeof n=="object"&&(t=n.attributes,n=n.name),t=Ae(t),"elementNameFn"in u&&(n=u.elementNameFn(n,E)),u.compact){if(s={},!u.ignoreAttributes&&t&&Object.keys(t).length){s[u.attributesKey]={};var o;for(o in t)t.hasOwnProperty(o)&&(s[u.attributesKey][o]=t[o])}!(n in E)&&(q(u.alwaysArray)?u.alwaysArray.indexOf(n)!==-1:u.alwaysArray)&&(E[n]=[]),E[n]&&!q(E[n])&&(E[n]=[E[n]]),q(E[n])?E[n].push(s):E[n]=s}else E[u.elementsKey]||(E[u.elementsKey]=[]),s={},s[u.typeKey]="element",s[u.nameKey]=n,!u.ignoreAttributes&&t&&Object.keys(t).length&&(s[u.attributesKey]=t),u.alwaysChildren&&(s[u.elementsKey]=[]),E[u.elementsKey].push(s);s[u.parentKey]=E,E=s}function qe(n){u.ignoreText||!n.trim()&&!u.captureSpacesBetweenElements||(u.trim&&(n=n.trim()),u.nativeType&&(n=_e(n)),u.sanitize&&(n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),W("text",n))}function Xe(n){u.ignoreComment||(u.trim&&(n=n.trim()),W("comment",n))}function He(n){var t=E[u.parentKey];u.addParent||delete E[u.parentKey],E=t}function Qe(n){u.ignoreCdata||(u.trim&&(n=n.trim()),W("cdata",n))}function We(n){u.ignoreDoctype||(n=n.replace(/^ /,""),u.trim&&(n=n.trim()),W("doctype",n))}function $e(n){n.note=n}var Ne=function(n,t){var s=Ge.parser(!0,{}),o={};if(E=o,u=je(t),s.opt={strictEntities:!0},s.onopentag=Ye,s.ontext=qe,s.oncomment=Xe,s.onclosetag=He,s.onerror=$e,s.oncdata=Qe,s.ondoctype=We,s.onprocessinginstruction=ke,s.write(n).close(),o[u.elementsKey]){var l=o[u.elementsKey];delete o[u.elementsKey],o[u.elementsKey]=l,delete o.text}return o},ye=se,ze=Ne;function Je(n){var t=ye.copyOptions(n);return ye.ensureSpacesExists(t),t}var Ze=function(n,t){var s,o,l,f;return s=Je(t),o=ze(n,s),f="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?l=JSON.stringify(o,function(m,T){return m===f?"_":T},s.spaces):l=JSON.stringify(o,null,s.spaces),l.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},g=se,et=re.isArray,C,D;function tt(n){var t=g.copyOptions(n);return g.ensureFlagExists("ignoreDeclaration",t),g.ensureFlagExists("ignoreInstruction",t),g.ensureFlagExists("ignoreAttributes",t),g.ensureFlagExists("ignoreText",t),g.ensureFlagExists("ignoreComment",t),g.ensureFlagExists("ignoreCdata",t),g.ensureFlagExists("ignoreDoctype",t),g.ensureFlagExists("compact",t),g.ensureFlagExists("indentText",t),g.ensureFlagExists("indentCdata",t),g.ensureFlagExists("indentAttributes",t),g.ensureFlagExists("indentInstruction",t),g.ensureFlagExists("fullTagEmptyElement",t),g.ensureFlagExists("noQuotesForNativeAttributes",t),g.ensureSpacesExists(t),typeof t.spaces=="number"&&(t.spaces=Array(t.spaces+1).join(" ")),g.ensureKeyExists("declaration",t),g.ensureKeyExists("instruction",t),g.ensureKeyExists("attributes",t),g.ensureKeyExists("text",t),g.ensureKeyExists("comment",t),g.ensureKeyExists("cdata",t),g.ensureKeyExists("doctype",t),g.ensureKeyExists("type",t),g.ensureKeyExists("name",t),g.ensureKeyExists("elements",t),g.checkFnExists("doctype",t),g.checkFnExists("instruction",t),g.checkFnExists("cdata",t),g.checkFnExists("comment",t),g.checkFnExists("text",t),g.checkFnExists("instructionName",t),g.checkFnExists("elementName",t),g.checkFnExists("attributeName",t),g.checkFnExists("attributeValue",t),g.checkFnExists("attributes",t),g.checkFnExists("fullTagEmptyElement",t),t}function K(n,t,s){return(!s&&n.spaces?`
`:"")+Array(t+1).join(n.spaces)}function J(n,t,s){if(t.ignoreAttributes)return"";"attributesFn"in t&&(n=t.attributesFn(n,D,C));var o,l,f,m,T=[];for(o in n)n.hasOwnProperty(o)&&n[o]!==null&&n[o]!==void 0&&(m=t.noQuotesForNativeAttributes&&typeof n[o]!="string"?"":'"',l=""+n[o],l=l.replace(/"/g,"&quot;"),f="attributeNameFn"in t?t.attributeNameFn(o,l,D,C):o,T.push(t.spaces&&t.indentAttributes?K(t,s+1,!1):" "),T.push(f+"="+m+("attributeValueFn"in t?t.attributeValueFn(l,o,D,C):l)+m));return n&&Object.keys(n).length&&t.spaces&&t.indentAttributes&&T.push(K(t,s,!1)),T.join("")}function he(n,t,s){return C=n,D="xml",t.ignoreDeclaration?"":"<?xml"+J(n[t.attributesKey],t,s)+"?>"}function be(n,t,s){if(t.ignoreInstruction)return"";var o;for(o in n)if(n.hasOwnProperty(o))break;var l="instructionNameFn"in t?t.instructionNameFn(o,n[o],D,C):o;if(typeof n[o]=="object")return C=n,D=l,"<?"+l+J(n[o][t.attributesKey],t,s)+"?>";var f=n[o]?n[o]:"";return"instructionFn"in t&&(f=t.instructionFn(f,o,D,C)),"<?"+l+(f?" "+f:"")+"?>"}function Fe(n,t){return t.ignoreComment?"":"<!--"+("commentFn"in t?t.commentFn(n,D,C):n)+"-->"}function Ie(n,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(n,D,C):n.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function ve(n,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(n,D,C):n)+">"}function ue(n,t){return t.ignoreText?"":(n=""+n,n=n.replace(/&amp;/g,"&"),n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(n,D,C):n)}function nt(n,t){var s;if(n.elements&&n.elements.length)for(s=0;s<n.elements.length;++s)switch(n.elements[s][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function it(n,t,s){C=n,D=n.name;var o=[],l="elementNameFn"in t?t.elementNameFn(n.name,n):n.name;o.push("<"+l),n[t.attributesKey]&&o.push(J(n[t.attributesKey],t,s));var f=n[t.elementsKey]&&n[t.elementsKey].length||n[t.attributesKey]&&n[t.attributesKey]["xml:space"]==="preserve";return f||("fullTagEmptyElementFn"in t?f=t.fullTagEmptyElementFn(n.name,n):f=t.fullTagEmptyElement),f?(o.push(">"),n[t.elementsKey]&&n[t.elementsKey].length&&(o.push(Ce(n[t.elementsKey],t,s+1)),C=n,D=n.name),o.push(t.spaces&&nt(n,t)?`
`+Array(s+1).join(t.spaces):""),o.push("</"+l+">")):o.push("/>"),o.join("")}function Ce(n,t,s,o){return n.reduce(function(l,f){var m=K(t,s,o&&!l);switch(f.type){case"element":return l+m+it(f,t,s);case"comment":return l+m+Fe(f[t.commentKey],t);case"doctype":return l+m+ve(f[t.doctypeKey],t);case"cdata":return l+(t.indentCdata?m:"")+Ie(f[t.cdataKey],t);case"text":return l+(t.indentText?m:"")+ue(f[t.textKey],t);case"instruction":var T={};return T[f[t.nameKey]]=f[t.attributesKey]?f:f[t.instructionKey],l+(t.indentInstruction?m:"")+be(T,t,s)}},"")}function De(n,t,s){var o;for(o in n)if(n.hasOwnProperty(o))switch(o){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||s)return!0;break;case t.cdataKey:if(t.indentCdata||s)return!0;break;case t.instructionKey:if(t.indentInstruction||s)return!0;break;case t.doctypeKey:case t.commentKey:return!0;default:return!0}return!1}function at(n,t,s,o,l){C=n,D=t;var f="elementNameFn"in s?s.elementNameFn(t,n):t;if(typeof n>"u"||n===null||n==="")return"fullTagEmptyElementFn"in s&&s.fullTagEmptyElementFn(t,n)||s.fullTagEmptyElement?"<"+f+"></"+f+">":"<"+f+"/>";var m=[];if(t){if(m.push("<"+f),typeof n!="object")return m.push(">"+ue(n,s)+"</"+f+">"),m.join("");n[s.attributesKey]&&m.push(J(n[s.attributesKey],s,o));var T=De(n,s,!0)||n[s.attributesKey]&&n[s.attributesKey]["xml:space"]==="preserve";if(T||("fullTagEmptyElementFn"in s?T=s.fullTagEmptyElementFn(t,n):T=s.fullTagEmptyElement),T)m.push(">");else return m.push("/>"),m.join("")}return m.push(xe(n,s,o+1,!1)),C=n,D=t,t&&m.push((l?K(s,o,!1):"")+"</"+f+">"),m.join("")}function xe(n,t,s,o){var l,f,m,T=[];for(f in n)if(n.hasOwnProperty(f))for(m=et(n[f])?n[f]:[n[f]],l=0;l<m.length;++l){switch(f){case t.declarationKey:T.push(he(m[l],t,s));break;case t.instructionKey:T.push((t.indentInstruction?K(t,s,o):"")+be(m[l],t,s));break;case t.attributesKey:case t.parentKey:break;case t.textKey:T.push((t.indentText?K(t,s,o):"")+ue(m[l],t));break;case t.cdataKey:T.push((t.indentCdata?K(t,s,o):"")+Ie(m[l],t));break;case t.doctypeKey:T.push(K(t,s,o)+ve(m[l],t));break;case t.commentKey:T.push(K(t,s,o)+Fe(m[l],t));break;default:T.push(K(t,s,o)+at(m[l],f,t,s,De(m[l],t)))}o=o&&!T.length}return T.join("")}var Oe=function(n,t){t=tt(t);var s=[];return C=n,D="_root_",t.compact?s.push(xe(n,t,0,!0)):(n[t.declarationKey]&&s.push(he(n[t.declarationKey],t,0)),n[t.elementsKey]&&n[t.elementsKey].length&&s.push(Ce(n[t.elementsKey],t,0,!s.length))),s.join("")},rt=Oe,st=function(n,t){n instanceof Buffer&&(n=n.toString());var s=null;if(typeof n=="string")try{s=JSON.parse(n)}catch{throw new Error("The JSON structure is invalid")}else s=n;return rt(s,t)},ut=Ne,ct=Ze,ot=Oe,lt=st,ft={xml2js:ut,xml2json:ct,js2xml:ot,json2xml:lt};async function yt({id:n="",cursor:t=""}){var T,w,p,I,V,M,P,R,G,S,B,j;const s=[],o=await ie({variables:{cursor:t,count:8,scale:1,id:btoa(`app_collection:${n}:1560653304174514:133`)},doc_id:"3975496529227403"}),l=ae(o),{edges:f=[],page_info:m={}}=((w=(T=l==null?void 0:l.data)==null?void 0:T.node)==null?void 0:w.pageItems)||{};for(const d of f){const h=((I=(p=d==null?void 0:d.node)==null?void 0:p.node)==null?void 0:I.id)||"";s.push({id:h,recent:s.length,created_time:"",description:(P=(M=(V=d==null?void 0:d.node)==null?void 0:V.node)==null?void 0:M.title)==null?void 0:P.text,length:(G=(R=d==null?void 0:d.node)==null?void 0:R.node)==null?void 0:G.playable_duration,url:(S=d==null?void 0:d.node)==null?void 0:S.url,source:"",picture:(j=(B=d==null?void 0:d.node)==null?void 0:B.image)==null?void 0:j.uri,cursor:(d==null?void 0:d.cursor)||""})}return{videos:s,nextCursor:m==null?void 0:m.end_cursor}}async function gt({id:n="",cursor:t=""}){var T,w,p,I,V,M,P,R,G,S,B,j;const s=[],o=await ie({fb_api_req_friendly_name:"GroupsCometVideosRootQueryContainerQuery",variables:{cursor:t,count:8,scale:2,groupID:n},doc_id:"6553573504724585"}),l=ae(o),{edges:f=[],page_info:m={}}=((p=(w=(T=l==null?void 0:l.data)==null?void 0:T.group)==null?void 0:w.group_mediaset)==null?void 0:p.media)||{};for(const d of f){const h=((I=d==null?void 0:d.node)==null?void 0:I.id)||"";s.push({id:h,recent:s.length,created_time:"",description:(P=(M=(V=d==null?void 0:d.node)==null?void 0:V.node)==null?void 0:M.title)==null?void 0:P.text,length:(G=(R=d==null?void 0:d.node)==null?void 0:R.node)==null?void 0:G.playable_duration,url:(S=d==null?void 0:d.node)==null?void 0:S.url,source:"",picture:(j=(B=d==null?void 0:d.node)==null?void 0:B.image)==null?void 0:j.uri,cursor:(d==null?void 0:d.cursor)||""})}return{videos:s,nextCursor:m==null?void 0:m.end_cursor}}const z={};function mt(n){var t;try{const s=ft.xml2js(n,{compact:!0});let o=Le(s,"AdaptationSet")||[];return Array.isArray(o)||(o=[o]),(((t=o==null?void 0:o.map(f=>f==null?void 0:f.Representation))==null?void 0:t.flat())||[]).map(f=>{var T,w,p,I;const m=f==null?void 0:f._attributes;return m?{id:m.id,codecs:m.codecs,mimeType:m.mimeType,isAudio:(T=m.mimeType)==null?void 0:T.startsWith("audio"),height:parseInt(m.height),width:parseInt(m.width),bandwidth:parseInt(m.bandwidth),qualityClass:m.FBQualityClass,qualityLabel:m.FBQualityLabel,source:(w=f==null?void 0:f.BaseURL)==null?void 0:w._text,length:parseInt((I=(p=f==null?void 0:f.SegmentBase)==null?void 0:p._attributes)==null?void 0:I.timescale)}:null}).filter(Boolean)}catch{return[]}}function Et(n){var t,s,o,l,f;try{return console.log("video info",n),{id:n.videoId||n.id,owner:((t=n.owner)==null?void 0:t.id)||((s=n.video_owner)==null?void 0:s.id),length:n.playable_duration_in_ms/1e3,url:n.url||n.permalink_url,width:n.original_width||n.width,height:n.original_height||n.height,source:n.browser_native_hd_url||n.playable_url_quality_hd||n.browser_native_sd_url||n.playable_url,quality:n.min_quality_preference,variants:mt(n.playlist),created_time:(n.publish_time*1e3).toString(),thumbnail:((o=n.image)==null?void 0:o.uri)||((f=(l=n.preferred_thumbnail)==null?void 0:l.image)==null?void 0:f.uri)}}catch(m){return console.log("extractVideoInfo error",m),null}}async function _t(n,t=!1){var f,m;if(!t&&((f=z[n])!=null&&f.source))return z[n];const s=await ie({fb_api_req_friendly_name:"CometTahoeRootQuery",variables:{caller:"TAHOE",chainingCursor:null,chainingSeedVideoId:null,channelEntryPoint:"TAHOE",channelID:"",feedbackSource:41,feedLocation:"TAHOE",focusCommentID:null,isCrawler:!1,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"video_channel",scale:1,streamChainingSection:!1,useDefaultActor:!1,videoChainingContext:null,videoID:n,__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:!0,__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:!1,__relay_internal__pv__StoriesLWRVariantrelayprovider:"www_new_reactions"},doc_id:"26374037368876407"}),o=ae(s.split(`
`)[0]),l=((m=o==null?void 0:o.data)==null?void 0:m.video)||{};return console.log("video info",l),z[n]=Et(l),z[n]}export{gt as a,yt as b,mt as c,Et as e,_t as g};
