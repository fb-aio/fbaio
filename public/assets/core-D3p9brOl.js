import{G as f,D as w,V as o,C as p}from"./MyApp-CD82law6.js";function u(r={},a="https://www.instagram.com/graphql/query"){return p(r,a)}function i(r){return`https://www.instagram.com/${r}`}async function g(r){var s,h;let a=await f("https://www.instagram.com/web/search/topsearch/?query="+r),n=w(a);if(n.status!="ok")throw Error("Server response error");const t=(h=(s=n==null?void 0:n.users)==null?void 0:s.find(c=>{var e;return((e=c==null?void 0:c.user)==null?void 0:e.username)==r}))==null?void 0:h.user;if(!t)throw Error("Instagram user not found");return{avatar:t==null?void 0:t.profile_pic_url,avatarBig:t==null?void 0:t.profile_pic_url,id:t==null?void 0:t.id,name:(t==null?void 0:t.full_name)||(t==null?void 0:t.username),username:r,type:o.IGUser,url:`https://www.instagram.com/${t==null?void 0:t.username}`,raw:n}}function m(r){var a,n,t;return r!=null&&r.length?!r[0].width||!r[0].height?(a=r.find(s=>s.type=="101")||r[0])==null?void 0:a.url:(t=(n=r==null?void 0:r.sort((s,h)=>h.width*h.height-s.width*s.height))==null?void 0:n[0])==null?void 0:t.url:null}function I(r=""){var a,n;return((a=/instagram.com\/stories\/([^\/]+)/.exec(r))==null?void 0:a[1])||((n=/instagram.com\/([^\/]+)/.exec(r))==null?void 0:n[1])}export{g as a,m as b,i as c,u as f,I as g};
