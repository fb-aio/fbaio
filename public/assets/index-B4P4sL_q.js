import{r as x,aA as t,aB as T,aT as E}from"./index-wZlHKvIC.js";import{D as B,E as F,G as U,u as C,g as f,t as q,M,b as p,j as V,i as R,a6 as G,c as D,T as z,B as O,L as P}from"./MyApp-BoAWzGij.js";import H from"./MyTable-DSIBe_7b.js";import{A as K}from"./index-dyO0wsFl.js";import{I as Q}from"./index-BalxX6fZ.js";import{T as W}from"./index-BBoLG4o3.js";import"./index-C5zhxkfZ.js";import"./Table-BmdZtMSU.js";import"./TextArea-DZxd1cfF.js";import"./addEventListener-DUkyYCb2.js";import"./index-znDtBKj-.js";import"./PurePanel-DZcz0OHg.js";import"./SearchOutlined-d-cJSqkw.js";import"./index-CiYw3fNR.js";import"./index-DyxODtZq.js";import"./Dropdown-Ce6gRozi.js";import"./useBreakpoint-OUxgu0-V.js";import"./responsiveObserver-BoSTImBj.js";import"./Pagination-BCW-H6N6.js";import"./index-gNcxpNQ1.js";import"./EyeOutlined-C0Xyk1pP.js";import"./row-zII7X2E0.js";import"./index-BZVgmXPP.js";var I=(a=>(a.RESTRICTED_LIST="RESTRICTED_LIST",a.USER="USER",a.PAGE="PAGE",a.MESSAGE="MESSAGE",a.APP_INVITE="APP_INVITE",a.EVENT_INVITE="EVENT_INVITE",a))(I||{});const j={RESTRICTED_LIST:{icon:"fa-solid fa-ban",name:{en:"Restricted",vi:"Hạn chế"},desc:{en:"When you add someone's profile to your Restricted list, they won't see posts on Facebook that you share only to Friends. They may still see things you share to Public or on a mutual friend's profile, and posts their profile is tagged in. Facebook doesn't notify your friends when you add them to your Restricted list.",vi:"Khi bạn thêm trang cá nhân của ai đó vào Danh sách hạn chế thì trên Facebook, họ sẽ không nhìn thấy các bài viết mà bạn chỉ chia sẻ với Bạn bè. Họ có thể vẫn nhìn thấy nội dung bạn chia sẻ Công khai hoặc trên trang cá nhân của một người bạn chung cũng như các bài viết có gắn thẻ trang cá nhân của họ. Facebook không thông báo cho bạn bè của bạn khi bạn thêm họ vào Danh sách hạn chế."}},USER:{icon:"fa-solid fa-user",name:{en:"User",vi:"Người dùng"},desc:{en:"Once you block someone, that person can no longer see things you post on your timeline, tag you, invite you to events or groups, start a conversation with you, or add you as a friend. Note: Does not include apps, games or groups you both participate in.",vi:"Khi bạn chặn ai đó, họ sẽ không xem được nội dung bạn đăng trên dòng thời gian của mình, gắn thẻ bạn, mời bạn tham gia sự kiện hoặc nhóm, bắt đầu cuộc trò chuyện với bạn hay thêm bạn làm bạn bè. Lưu ý: Điều này không bao gồm các ứng dụng, trò chơi hay nhóm mà cả bạn và người này đều tham gia."}},PAGE:{icon:"fa-brands fa-facebook",name:{en:"Page",vi:"Trang"},desc:{en:"Once you block a Page, that Page can no longer interact with your posts or like or reply to your comments. You'll be unable to post to the Page's timeline or message the Page. If you currently like the Page, blocking it will also unlike and unfollow it.",vi:"Sau khi bạn chặn một Trang, Trang đó sẽ không thể tương tác với bài viết của bạn hoặc thích, phản hồi bình luận của bạn nữa. Bạn sẽ không thể đăng lên dòng thời gian của Trang hoặc nhắn tin cho Trang. Nếu bạn đang thích Trang, việc chặn Trang cũng đồng nghĩa với bỏ thích và bỏ theo dõi Trang đó."}},MESSAGE:{icon:"fa-brands fa-facebook-messenger",name:{en:"Message",vi:"Tin nhắn"},desc:{en:"If you block someone's profile on Facebook, they won't be able to contact you in Messenger either. Unless you block someone's Facebook profile and any others they may create, they may be able to post on your timeline, tag you, and comment on your posts or comments.",vi:"Nếu bạn chặn trang cá nhân của ai đó trên Facebook, họ cũng sẽ không thể liên hệ với bạn trong Messenger. Nếu bạn không chặn trang cá nhân Facebook của ai đó và bất kỳ trang cá nhân nào khác họ có khả năng tạo, họ sẽ có thể đăng bài lên dòng thời gian của bạn, gắn thẻ bạn và bình luận về bài viết hoặc bình luận của bạn."}},APP_INVITE:{icon:"fa-brands fa-google-play",name:{en:"App invite",vi:"Ứng dụng"},desc:{en:"Once you block app invites from someone's profile, you'll automatically ignore future app requests from that person's profile.",vi:"Sau khi chặn lời mời dùng ứng dụng từ trang cá nhân của người khác, bạn sẽ tự động bỏ qua các yêu cầu ứng dụng trong tương lai từ người đó."}},EVENT_INVITE:{icon:"fa-regular fa-calendar",name:{en:"Event invite",vi:"Sự kiện"},desc:{en:"Once you block event invites from someone’s profile, you’ll automatically ignore future event requests from that profile.",vi:"Khi bạn chặn lời mời tham gia sự kiện từ trang cá nhân của một người, bạn sẽ tự động bỏ qua những lời mời trong tương lai từ trang cá nhân đó."}}};async function Y({type:a,cursor:g}){const y=g?await B({fb_api_req_friendly_name:"BlockingSettingsBlockingListPaginationQuery",variables:{count:10,cursor:g,profile_picture_size:36,id:btoa("privacy_block_setting:"+a.toString().toLocaleLowerCase())},doc_id:"5186554984768632"}):await B({fb_api_req_friendly_name:"BlockingSettingsDialogQuery",variables:{profile_picture_size:36,settingType:a},doc_id:"5425356630905390"}),c=F(y);console.log(c);const{edges:k,page_info:r}=U(c);return k.map(s=>{var h,u,d,b,m;return{type:a,id:(h=s==null?void 0:s.node)==null?void 0:h.id,name:(u=s==null?void 0:s.node)==null?void 0:u.name,avatar:(b=(d=s==null?void 0:s.node)==null?void 0:d.profile_picture)==null?void 0:b.uri,gender:(m=s==null?void 0:s.node)==null?void 0:m.gender,cursor:(s==null?void 0:s.cursor)||(r==null?void 0:r.end_cursor)}})}function vn(){const{ti:a}=C(),[g,y]=f("Blocked.type",I.RESTRICTED_LIST),[c,k]=f("Blocked.data",{}),[r,s]=f("Blocked.loading",{}),[h,u]=f("Blocking.noData",{});x.useEffect(()=>{q("Blocked.onLoad")},[]);const d=(n,i)=>{s(e=>E(e,o=>{o[n]=i}))},b=(n,i)=>{k(e=>E(e,o=>{o[n]=i}))},m=(n,i)=>{u(e=>E(e,o=>{o[n]=i}))};x.useEffect(()=>{S(g)},[g]);const v=x.useRef({}),S=async(n,i=!1)=>{var _,N;if(!i&&(h[n]||v.current[n]||(_=c[n])!=null&&_.length))return;i&&m(n,!1),v.current[n]=!0,d(n,!0);const e=[];let o="";for(;;)try{o=((N=e[e.length-1])==null?void 0:N.cursor)||"";const l=await Y({type:n,cursor:o});if(!(l!=null&&l.length)){e.length||m(n,!0);break}e.push(...l),console.log(e),b(n,[...e].map((w,L)=>({...w,isBlocked:!0,index:L+1}))),await M(500)}catch(l){console.log(l)}finally{}v.current[n]=!1,d(n,!1)},A=[{title:"#",key:"index",dataIndex:"index",width:50},{title:a({en:"Name",vi:"Tên"}),key:"nane",dataIndex:"name",render:(n,i,e)=>t.jsxs(p,{style:{maxWidth:300},children:[t.jsx(K,{shape:"square",src:t.jsx(Q,{src:i.avatar,fallback:V(i.id)}),size:50}),t.jsxs(p,{direction:"vertical",style:{marginLeft:"10px"},size:0,children:[t.jsx("a",{href:R(i.id),target:"_blank",onClick:o=>{o.preventDefault(),G(R(i.id))},children:t.jsx("b",{children:i.name})}),t.jsx("span",{style:{opacity:.5},children:i.id})]})]}),width:"auto"},{title:a({en:"Status",vi:"Trạng thái"}),key:"isBlocked",dataIndex:"isBlocked",render:(n,i,e)=>i.isBlocked?t.jsx(D,{color:"red",children:a({en:"Blocked",vi:"Đang chặn"})}):t.jsx(D,{color:"green",children:a({en:"Unblocked",vi:"Bỏ chặn"})}),width:120},{title:a({en:"Action",vi:"Hành động"}),render:(n,i,e)=>t.jsx(T,{icon:t.jsx("i",{className:"fa-solid fa-ban"}),children:a({en:"Unblock",vi:"Bỏ chặn"})}),width:120}];return t.jsxs(p,{direction:"vertical",style:{width:"100%"},children:[t.jsxs(p,{direction:"horizontal",align:"center",style:{marginBottom:10},children:[t.jsx("h1",{style:{textAlign:"left",margin:0},children:a({en:"Blocked",vi:"Đang chặn"})}),t.jsx(T,{type:"default",icon:t.jsx("i",{className:"fa-solid fa-up-right-from-square"}),href:"https://www.facebook.com/settings/?tab=blocking",target:"_blank"})]}),t.jsx(W,{items:Object.values(I).map(n=>{var i;return{key:n,label:t.jsxs(z,{title:t.jsx(t.Fragment,{children:a(j[n].desc).split(".").map((e,o)=>t.jsx("p",{children:e},n+o))}),children:[r[n]?t.jsx("i",{className:"fa fa-spinner fa-spin"}):t.jsx("i",{className:j[n].icon})," ",a(j[n].name)," ",t.jsx(O,{showZero:!0,count:h[n]?0:((i=c[n])==null?void 0:i.length)||"",color:h[n]?"gray":"purple",style:{color:"white"}})]}),children:t.jsx(H,{columns:A,data:c[n],keyExtractor:e=>e==null?void 0:e.id,searchable:!0,onSearchRow:(e,o)=>P(e,o==null?void 0:o.name)||P(e,o==null?void 0:o.id),size:"small",renderTitle:()=>t.jsx(t.Fragment,{children:t.jsx(T,{disabled:r[n],type:"primary",icon:r[n]?t.jsx("i",{className:"fa-solid fa-rotate-right fa-spin"}):t.jsx("i",{className:"fa-solid fa-rotate-right"}),onClick:()=>S(n,!0),children:a({en:"Reload",vi:"Tải lại"})})})})}}),onChange:n=>{y(n)}})]})}export{vn as default};
