import{as as e}from"./index-BxFApyUW.js";import{p as o,q as p,k as w}from"./MyApp-BkDc7srk.js";function i(r={},a="https://www.instagram.com/graphql/query"){return w(r,a)}function m(r){return`https://www.instagram.com/${r}`}async function g(r){var s,h;let a=await e("https://www.instagram.com/web/search/topsearch/?query="+r),n=o(a);if(n.status!="ok")throw Error("Server response error");const t=(h=(s=n==null?void 0:n.users)==null?void 0:s.find(c=>{var f;return((f=c==null?void 0:c.user)==null?void 0:f.username)==r}))==null?void 0:h.user;if(!t)throw Error("Instagram user not found");return{avatar:t==null?void 0:t.profile_pic_url,avatarBig:t==null?void 0:t.profile_pic_url,id:t==null?void 0:t.id,name:(t==null?void 0:t.full_name)||(t==null?void 0:t.username),username:r,type:p.IGUser,url:`https://www.instagram.com/${t==null?void 0:t.username}`,raw:n}}function I(r){var a,n,t;return r!=null&&r.length?!r[0].width||!r[0].height?(a=r.find(s=>s.type=="101")||r[0])==null?void 0:a.url:(t=(n=r==null?void 0:r.sort((s,h)=>h.width*h.height-s.width*s.height))==null?void 0:n[0])==null?void 0:t.url:null}function y(r=""){var a,n;return((a=/instagram.com\/stories\/([^\/]+)/.exec(r))==null?void 0:a[1])||((n=/instagram.com\/([^\/]+)/.exec(r))==null?void 0:n[1])}export{g as a,I as b,m as c,i as f,y as g};
