import{r as h,n as V,j as K,o as W,X as z,g as _,W as H,E as B,F as G,D as w,H as J,bv as Q,a4 as U,J as Y,bq as Z,bg as ee,aq as ne,bD as te,aH as ie,b4 as N,aJ as m,aL as q,b8 as ae}from"./index-Cc323tmk.js";import{M as ce,T as le}from"./MyTable-Cq7Jx-ZU.js";import{w as O,t as oe,B as se,S as T,T as D}from"./MyApp-DaTURa7C.js";import{M as re}from"./index-3h017Qk9.js";var de=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],P=h.forwardRef(function(e,n){var c,i=e.prefixCls,o=i===void 0?"rc-switch":i,d=e.className,l=e.checked,t=e.defaultChecked,a=e.disabled,s=e.loadingIcon,u=e.checkedChildren,S=e.unCheckedChildren,b=e.onClick,$=e.onChange,I=e.onKeyDown,r=V(e,de),g=O(!1,{value:l,defaultValue:t}),M=K(g,2),v=M[0],f=M[1];function x(p,y){var k=v;return a||(k=p,f(k),$==null||$(k,y)),k}function E(p){p.which===H.LEFT?x(!1,p):p.which===H.RIGHT&&x(!0,p),I==null||I(p)}function C(p){var y=x(!v,p);b==null||b(y,p)}var j=W(o,d,(c={},z(c,"".concat(o,"-checked"),v),z(c,"".concat(o,"-disabled"),a),c));return h.createElement("button",_({},r,{type:"button",role:"switch","aria-checked":v,disabled:a,className:j,ref:n,onKeyDown:E,onClick:C}),s,h.createElement("span",{className:"".concat(o,"-inner")},h.createElement("span",{className:"".concat(o,"-inner-checked")},u),h.createElement("span",{className:"".concat(o,"-inner-unchecked")},S)))});P.displayName="Switch";const he=e=>{const{componentCls:n,trackHeightSM:c,trackPadding:i,trackMinWidthSM:o,innerMinMarginSM:d,innerMaxMarginSM:l,handleSizeSM:t,calc:a}=e,s=`${n}-inner`,u=w(a(t).add(a(i).mul(2)).equal()),S=w(a(l).mul(2).equal());return{[n]:{[`&${n}-small`]:{minWidth:o,height:c,lineHeight:w(c),[`${n}-inner`]:{paddingInlineStart:l,paddingInlineEnd:d,[`${s}-checked, ${s}-unchecked`]:{minHeight:c},[`${s}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${S})`,marginInlineEnd:`calc(100% - ${u} + ${S})`},[`${s}-unchecked`]:{marginTop:a(c).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:t,height:t},[`${n}-loading-icon`]:{top:a(a(t).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:d,paddingInlineEnd:l,[`${s}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${s}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${S})`,marginInlineEnd:`calc(-100% + ${u} - ${S})`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${w(a(t).add(i).equal())})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${s}`]:{[`${s}-unchecked`]:{marginInlineStart:a(e.marginXXS).div(2).equal(),marginInlineEnd:a(e.marginXXS).mul(-1).div(2).equal()}},[`&${n}-checked ${s}`]:{[`${s}-checked`]:{marginInlineStart:a(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:a(e.marginXXS).div(2).equal()}}}}}}},ue=e=>{const{componentCls:n,handleSize:c,calc:i}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:i(i(c).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},ge=e=>{const{componentCls:n,trackPadding:c,handleBg:i,handleShadow:o,handleSize:d,calc:l}=e,t=`${n}-handle`;return{[n]:{[t]:{position:"absolute",top:c,insetInlineStart:c,width:d,height:d,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:i,borderRadius:l(d).div(2).equal(),boxShadow:o,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${t}`]:{insetInlineStart:`calc(100% - ${w(l(d).add(c).equal())})`},[`&:not(${n}-disabled):active`]:{[`${t}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${t}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},me=e=>{const{componentCls:n,trackHeight:c,trackPadding:i,innerMinMargin:o,innerMaxMargin:d,handleSize:l,calc:t}=e,a=`${n}-inner`,s=w(t(l).add(t(i).mul(2)).equal()),u=w(t(d).mul(2).equal());return{[n]:{[a]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:d,paddingInlineEnd:o,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${a}-checked, ${a}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:c},[`${a}-checked`]:{marginInlineStart:`calc(-100% + ${s} - ${u})`,marginInlineEnd:`calc(100% - ${s} + ${u})`},[`${a}-unchecked`]:{marginTop:t(c).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${a}`]:{paddingInlineStart:o,paddingInlineEnd:d,[`${a}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${a}-unchecked`]:{marginInlineStart:`calc(100% - ${s} + ${u})`,marginInlineEnd:`calc(-100% + ${s} - ${u})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${a}`]:{[`${a}-unchecked`]:{marginInlineStart:t(i).mul(2).equal(),marginInlineEnd:t(i).mul(-1).mul(2).equal()}},[`&${n}-checked ${a}`]:{[`${a}-checked`]:{marginInlineStart:t(i).mul(-1).mul(2).equal(),marginInlineEnd:t(i).mul(2).equal()}}}}}},Se=e=>{const{componentCls:n,trackHeight:c,trackMinWidth:i}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},J(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:i,height:c,lineHeight:w(c),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),Q(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},pe=e=>{const{fontSize:n,lineHeight:c,controlHeight:i,colorWhite:o}=e,d=n*c,l=i/2,t=2,a=d-t*2,s=l-t*2;return{trackHeight:d,trackHeightSM:l,trackMinWidth:a*2+t*4,trackMinWidthSM:s*2+t*2,trackPadding:t,handleBg:o,handleSize:a,handleSizeSM:s,handleShadow:`0 2px 4px 0 ${new U("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:a/2,innerMaxMargin:a+t+t*2,innerMinMarginSM:s/2,innerMaxMarginSM:s+t+t*2}},$e=B("Switch",e=>{const n=G(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[Se(n),me(n),ge(n),ue(n),he(n)]},pe);var Ce=function(e,n){var c={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(c[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(c[i[o]]=e[i[o]]);return c};const fe=h.forwardRef((e,n)=>{const{prefixCls:c,size:i,disabled:o,loading:d,className:l,rootClassName:t,style:a,checked:s,value:u,defaultChecked:S,defaultValue:b,onChange:$}=e,I=Ce(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[r,g]=O(!1,{value:s??u,defaultValue:S??b}),{getPrefixCls:M,direction:v,switch:f}=h.useContext(Y),x=h.useContext(Z),E=(o??x)||d,C=M("switch",c),j=h.createElement("div",{className:`${C}-handle`},d&&h.createElement(te,{className:`${C}-loading-icon`})),[p,y,k]=$e(C),R=ee(i),X=W(f==null?void 0:f.className,{[`${C}-small`]:R==="small",[`${C}-loading`]:d,[`${C}-rtl`]:v==="rtl"},l,t,y,k),A=Object.assign(Object.assign({},f==null?void 0:f.style),a),F=function(){g(arguments.length<=0?void 0:arguments[0]),$==null||$.apply(void 0,arguments)};return p(h.createElement(ne,{component:"Switch"},h.createElement(P,Object.assign({},I,{checked:r,onChange:F,prefixCls:C,className:X,style:A,disabled:E,ref:n,loadingIcon:j}))))}),L=fe;L.__ANT_SWITCH=!0;function xe({title:e={en:"📈 Words statistic",vi:"📈 Thống kê từ"},text:n,renderButton:c}){const{ti:i}=ie(),[o,d]=h.useState(!1),[l,t]=h.useState(5),[a,s]=h.useState(!0),[u,S]=h.useState([]),b=h.useMemo(()=>a?u.filter(r=>r.count>1):u,[a,u]);h.useEffect(()=>{o&&oe("WordStatisticButton:open")},[o]),h.useEffect(()=>{if(o){const r=we(n,l);S(r)}},[o,n,l]);const $=[{title:"#",dataIndex:"index",key:"index",width:70},{title:i({en:"Word",vi:"Từ"}),dataIndex:"word",key:"word",width:"auto"},{title:i({en:"Length",vi:"Độ dài"}),dataIndex:"length",key:"length",sorter:(r,g)=>r.length-g.length,width:100,rangeFilter:{getValue:r=>r.length}},{title:i({en:"Frequency",vi:"Xuất hiện"}),dataIndex:"count",key:"count",sorter:(r,g)=>r.count-g.count,render:(r,g)=>N(g.count),width:100},{title:i({en:"Score",vi:"Điểm"}),dataIndex:"score",key:"score",sorter:(r,g)=>r.score-g.score,render:(r,g)=>N(g.score),width:100}],I=()=>m.jsxs(T,{children:[m.jsxs(T.Compact,{children:[m.jsx(q,{icon:m.jsx("i",{className:"fa-solid fa-minus"}),onClick:()=>t(r=>r-1)}),m.jsx(D,{title:i({en:"Max length",vi:"Độ dài tối đa"}),children:m.jsx(le,{value:l,min:1,max:10,onChange:r=>t(r||1)})}),m.jsx(q,{icon:m.jsx("i",{className:"fa-solid fa-plus"}),onClick:()=>t(r=>r+1)})]}),m.jsx(D,{title:i({en:"Hide words with frequency = 1",vi:"Ẩn từ chỉ xuất hiện 1 lần"}),children:m.jsx(L,{checked:a,onChange:r=>s(r)})})]});return m.jsxs(m.Fragment,{children:[(c==null?void 0:c({showModal:()=>d(!0)}))||m.jsx(se,{color:"red",style:{color:"white",zIndex:2},count:i({en:"New",vi:"Mới"}),onClick:()=>d(!0),children:m.jsx(q,{icon:m.jsx("i",{className:"fa-solid fa-chart-line"}),children:i({en:"Statistic",vi:"Thống kê"})})}),m.jsx(re,{title:i(e),open:o,onOk:()=>d(!1),onCancel:()=>d(!1),width:"90%",style:{maxWidth:800,minWidth:500},children:m.jsx(ce,{data:b,columns:$,keyExtractor:r=>r.index,renderTitle:I,searchable:!0,virtual:!0,onSearchRow:(r,g)=>ae(r,g==null?void 0:g.word)})})]})}function we(e,n=5){if(!e)return[];const c=e.replace(/[^\p{L}\s]/gu," ").split(/\s+/).filter(l=>l.length>1).map(l=>l.toLowerCase()),i=new Map;for(let l=1;l<=n;l++)for(let t=0;t<=c.length-l;t++){const a=c.slice(t,t+l).join(" ");i.set(a,(i.get(a)||0)+1)}const o=new Map;i.forEach((l,t)=>{const a=t.split(/\s+/).length;o.set(t,l**a)});const d=Array.from(o.entries()).sort(([,l],[,t])=>t-l).map(([l,t],a)=>{const s=l.split(" ").length;return{index:a,word:l,length:s,count:i.get(l)||0,score:t}});return console.log(d),d}export{xe as W};
