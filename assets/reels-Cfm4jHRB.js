import{c as R}from"./videos-DPN3OhEy.js";import{aA as b}from"./index-CKHJa6H8.js";import{p as h}from"./MyApp-DmnFYXMb.js";import{f as w,b as y}from"./core-C2YLbOr-.js";function m(o,s){var e,i,a;const r=((e=o==null?void 0:o.node)==null?void 0:e.media)||{};return{id:r.id,post_id:r==null?void 0:r.code,type:(i=o==null?void 0:o.node)==null?void 0:i.__typename,width:r.original_width,height:r.original_height,image:y((a=r.image_versions2)==null?void 0:a.candidates),video:y(r.video_versions),comment_count:r.comment_count,like_count:r.like_count,play_count:r.play_count,view_count:r.view_count,cursor:(o==null?void 0:o.cursor)||(s==null?void 0:s.end_cursor),raw:o}}async function C(o="",s=""){const r=await w({fb_api_req_friendly_name:"PolarisProfileReelsTabContentQuery_connection",variables:{after:s,before:null,data:{include_feed_video:!0,page_size:12,target_user_id:o},first:4,last:null},doc_id:"7845543455542541"}),e=h(r);console.log("res ne",e);const{edges:i=[],page_info:a={}}=b(e);return i.map(t=>m(t,a))}async function Q(o=""){const s=await w({fb_api_req_friendly_name:"PolarisClipsTabDesktopContainerQuery",variables:{data:{container_module:"clips_tab_desktop_page"},first:null,__relay_internal__pv__PolarisReelsShareMenurelayprovider:!0},doc_id:8431013483653518}),r=h(s);console.log("getInstaReelsFeed",r);const{edges:e=[],page_info:i={}}=b(r);return e.map(a=>{var _,c,l,u,p,f,v,d;const t=((_=a==null?void 0:a.node)==null?void 0:_.media)||{},n=(l=(c=t==null?void 0:t.clips_metadata)==null?void 0:c.music_info)==null?void 0:l.music_asset_info,k=(u=t==null?void 0:t.clips_metadata)==null?void 0:u.original_sound_info;return{...m(a,i),code:t==null?void 0:t.code,caption:(p=t==null?void 0:t.caption)==null?void 0:p.text,music:k?null:{id:n==null?void 0:n.audio_cluster_id,title:n==null?void 0:n.title,artist:n==null?void 0:n.display_artist,cover:n==null?void 0:n.cover_artwork_thumbnail_uri},user:{id:(f=t==null?void 0:t.user)==null?void 0:f.id,username:(v=t==null?void 0:t.user)==null?void 0:v.username,avatar:(d=t==null?void 0:t.user)==null?void 0:d.profile_pic_url},created_at:((t==null?void 0:t.taken_at)||0)*1e3,variants:R(t==null?void 0:t.video_dash_manifest)}})}export{Q as a,C as g};
