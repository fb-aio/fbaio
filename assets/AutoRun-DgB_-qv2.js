import{aH as R,r as I,bh as T,aJ as t,au as p,bi as S,bj as x,aE as f,aL as D}from"./index-DKyUkP6l.js";import{d as w,t as h,S as C,T as j,B,c as N}from"./MyApp-BDLwB7h-.js";import{R as E}from"./row-D1L4EmjN.js";import{T as k}from"./index-DPRQSzuc.js";import{A as V}from"./index-BYi1aAHf.js";import{L as v}from"./index-hBKCfRCI.js";import{C as H}from"./index-GK0vunuk.js";import{D as b}from"./index-BxhEqtJw.js";import"./responsiveObserver-BxjPScz9.js";import"./Pagination-fOL6YILi.js";import"./useBreakpoint-DZFtf331.js";import"./index-84eFfaCJ.js";import"./PurePanel-CqHWrtmI.js";import"./SearchOutlined-DIYILmvi.js";const m={Facebook:{params:["fbclid","mc_eid"]},Instagram:{params:["igshid"]},Tiktok:{params:["ttclid"]},Twitter:{domains:["twitter.com"],params:["s","t"]},Google:{domains:["google.com"],params:["gclid","glsrc","_ga","sxsrf","source","ei","iflsig","gs_lp","gs_lcrp","sclient","ved","uact","stick","sca_esv"]},Spotify:{domains:["spotify.com","youtube.com","reddit.com"],params:["si","context"]},Youtube:{domains:["youtube.com"],params:["feature","ab_channel","pp","bp","redir_token","event","embeds_referring_euri","source_ve_path"]},Amazon:{domains:["amazon.*"],params:["ref","tag","linkCode","hv(adid|netw|qmt|bmt|dev|locint|locphy|targid)","psc","content-id","pd_rd_(w|p|r|i|wg)"]},Bing:{domains:["bing.com"],params:["toWww","redig","form","qs","sp","ghc","lq","pq","sc","sk","cvid","ghsh","ghacc","ghpl","ccid","id","thid","simid","FORM","ck","ajaxhist","ajaxserp","osid"]},LinkedIn:{domains:["linkedin.com"],params:["trackingId","lipi","midSig","trkEmail","otpToken","refId","midToken","trk","eid","mcid","ePP","ccuid","cid"]},Reddit:{params:["share_id"]},Adobe:{params:["ef_id","s_kwcid"]},Microsoft:{params:["msclkid"]},Pinterest:{params:["epik"]}},y=[{id:"header_fb",name:"Facebook",isHeader:!0,icon:t.jsx("i",{className:"fa-brands fa-facebook"})},{id:"fb_blockSeenStory",icon:"üëÄ",name:{vi:'Ch·∫∑n "ƒë√£ xem" tr√™n story Facebook',en:'Block the "seen" feature in Facebook Stories'},desc:{vi:"Xem story kh√¥ng b·ªã ƒë·ªëi ph∆∞∆°ng ph√°t hi·ªán ngay tr√™n Facebook",en:"View stories anonymously right on Facebook"},contentScript:{id:"fb_blockSeenStory",js:["./scripts/content/fb_blockSeenStory.js"],matches:["https://www.facebook.com/*","https://web.facebook.com/*"],runAt:"document_start",world:"MAIN",allFrames:!0}},{id:"fb_addDownloadVideoBtn",icon:"‚¨á",name:{vi:"Th√™m n√∫t t·∫£i cho m·ªçi video tr√™n Facebook",en:"Add download button on every video on Facebook"},desc:{vi:"H·ªó tr·ª£ m·ªçi video/reel/comment",en:"Support all video/reel/comment"},contentScript:{id:"fb_addDownloadVideoBtn",js:["./scripts/content/fb_addDownloadVideoBtn.js"],matches:["https://www.facebook.com/*","https://web.facebook.com/*"],runAt:"document_start",world:"MAIN",allFrames:!1}},{id:"fb_addVideoControlBtn",icon:"üïπÔ∏è",name:{vi:"Th√™m giao di·ªán ƒëi·ªÅu khi·ªÉn video tr√™n Facebook",en:"Add control button on video on Facebook"},desc:{vi:"C√≥ th·ªÉ tua t·ªõi th·ªùi ƒëi·ªÉm b·∫•t k·ª≥ c·ªßa t·∫•t c·∫£ video/reel",en:"Jump to any point in any video/reel"},contentScript:{id:"fb_addVideoControlBtn",js:["./scripts/content/fb_addVideoControlBtn.js"],matches:["https://www.facebook.com/*","https://web.facebook.com/*"],runAt:"document_start",world:"MAIN",allFrames:!1}},{id:"fb_showTotalPostReactions",icon:"‚ù§Ô∏è",name:{vi:"ƒê·∫øm t·ªïng l∆∞·ª£t th√≠ch b√†i vi·∫øt tr√™n Facebook",en:"Count total post reactions on Facebook"},desc:{vi:"√Åp d·ª•ng cho nh·ªØng b√†i vi·∫øt b·ªã ·∫©n l∆∞·ª£t th√≠ch",en:"Applies to posts that hide reactions"},contentScript:{id:"fb_showTotalPostReactions",js:["./scripts/content/fb_showTotalPostReactions.js"],matches:["https://www.facebook.com/*","https://web.facebook.com/*"],runAt:"document_start",world:"MAIN",allFrames:!0}},{id:"fb_stopNewFeed",icon:"üö´",name:{vi:"T·∫°m d·ª´ng t·∫£i d√≤ng th·ªùi gian tr√™n facebook",en:"Stop load new feed on facebook"},desc:{vi:"Gi√∫p t·∫≠p trung l√†m vi·ªác. Kh√¥ng cho fb t·∫£i c√°c tab: story, home, video, nh√≥m, mua b√°n",en:"Focus to work. Stop load these new feeds: stories, home, video, group, marketplace"},contentScript:{id:"fb_stopNewFeed",js:["./scripts/content/fb_stopNewFeed.js"],matches:["https://www.facebook.com/*","https://web.facebook.com/*"],runAt:"document_start",world:"MAIN",allFrames:!0}},{id:"header_insta",name:"Instagram",isHeader:!0,icon:t.jsx("i",{className:"fa-brands fa-instagram"})},{id:"insta_blockSeenStory",icon:"üëÄ",name:{vi:'Ch·∫∑n "ƒë√£ xem" tr√™n story Instagram',en:'Block the "seen" feature in Instagram Stories'},desc:{vi:"Xem story kh√¥ng b·ªã ƒë·ªëi ph∆∞∆°ng ph√°t hi·ªán ngay tr√™n Instagram",en:"View stories anonymously right on Instagram"},contentScript:{id:"insta_blockSeenStory",js:["./scripts/content/insta_blockSeenStory.js"],matches:["https://*.instagram.com/*"],runAt:"document_start",world:"MAIN",allFrames:!0}},{id:"header_threads",name:"Threads",isHeader:!0,icon:t.jsx("i",{className:"fa-solid fa-at"})},{id:"threads_addDownloadVideoBtn",icon:"‚¨á",name:{vi:"Th√™m n√∫t t·∫£i cho m·ªçi video tr√™n Threads",en:"Add download button on every video on Threads"},desc:{vi:"H·ªó tr·ª£ m·ªçi video/reel/comment",en:"Support all video/reel/comment"},contentScript:{id:"threads_addDownloadVideoBtn",js:["./scripts/content/threads_addDownloadVideoBtn.js"],matches:["https://*.threads.net/*"],runAt:"document_start",world:"MAIN",allFrames:!1}},{id:"header_others",name:"Others",isHeader:!0,icon:t.jsx("i",{className:"fa-solid fa-screwdriver-wrench"})},{id:"fb_removeFbclid",icon:"üîó",name:{vi:"Xo√° tham s·ªë theo d√µi tr√™n m·ªçi url (fbclid, ttclid, ...)",en:"Delete tracking param from all urls (fbclid, ttclid, ...)"},desc:{vi:"T·ª± ƒë·ªông xo√° c√°c tham s·ªë theo d√µi tr√™n m·ªçi url ("+Object.keys(m).join(", ")+")",en:"Auto remove all tracking params from all urls ("+Object.keys(m).join(", ")+")"},onEnable:async()=>{function n(o){const l=/\((.*?)\)/,s=o.match(l);if(s){const e=s[1].split("|"),d=o.split("(")[0];return e.map(r=>d+r.trim())}else return[o]}const c=1e3;let i=0,a=[];for(let o in m){let l=c+i;i++;let{domains:s=[],params:e}=m[o];s=(s==null?void 0:s.filter(Boolean))||[],a.push({id:l,priority:1,action:{type:"redirect",redirect:{transform:{queryTransform:{removeParams:e.map(d=>n(d)).flat()}}}},condition:{isUrlFilterCaseSensitive:!0,regexFilter:`[?&](${e.join("|")})=`,resourceTypes:["main_frame","sub_frame"],...s.length>0?{requestDomains:s}:{}}})}console.log(a),await p("chrome.declarativeNetRequest.updateDynamicRules",[{addRules:a,removeRuleIds:a.map(o=>o.id)}]),S("remove_tracking_in_url",a.map(o=>o.id)),console.log("added",a)},onDisable:async()=>{const n=await x("remove_tracking_in_url");console.log("deleted",n),p("chrome.declarativeNetRequest.updateDynamicRules",[{removeRuleIds:n}])},supported:!0,button:t.jsx(j,{title:f({vi:"Danh s√°ch tham s·ªë",en:"Tracking params list"}),children:t.jsx(D,{type:"default",icon:t.jsx("i",{className:"fa-solid fa-question"}),onClick:()=>{N.fire({icon:"info",title:f({vi:"Danh s√°ch tham s·ªë",en:"Tracking params list"}),html:'<textarea rows="20" style="width: 100%" readonly>'+JSON.stringify(m,null,2)+"</textarea>"})}})})}],_="AutoRun.OtherScriptEnabled";async function A(n=!1){const i=(await p("chrome.scripting.getRegisteredContentScripts")||[]).map(o=>o.id);if(n)return i;const a=await x(_)||[];return[...i,...a]}async function q(n){const c=n.map(o=>o.contentScript).filter(Boolean),i=await A(!0);await p("chrome.scripting.unregisterContentScripts",[{ids:i}]),c.length&&await p("chrome.scripting.registerContentScripts",[c]);const a=n.filter(o=>!o.contentScript).map(o=>o.id);a.length&&await S(_,a)}function Z(){const{ti:n}=R(),[c,i]=w("AutoRun.supported",new Set),[a,o]=w("AutoRun.enabled",new Set),l=y.map(e=>e.isHeader?e:{...e,enabled:a.has(e==null?void 0:e.id),supported:e.supported??c.has(e==null?void 0:e.id)}),s=e=>{var u,g;const d=a.has(e.id),r=new Set(a);d?(h("AutoRun.Disable."+e.id),r.delete(e.id),(u=e.onDisable)==null||u.call(e)):(h("AutoRun.Enable."+e.id),r.add(e.id),(g=e.onEnable)==null||g.call(e)),o(r),q(y.filter(F=>r.has(F.id)))};return I.useEffect(()=>{h("AutoRun:onLoad"),T().then((e=[])=>{i(new Set(e))}),A().then((e=[])=>{console.log(e),o(new Set(e))})},[]),t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"},children:[t.jsx(E,{align:"middle",style:{margin:"16px"},children:t.jsx(k.Title,{level:3,style:{margin:0},children:n({en:"AutoRun Features",vi:"T·ª± ƒë·ªông ch·∫°y"})})}),t.jsx(C,{align:"start",children:t.jsx(V,{showIcon:!0,type:"success",message:n({en:"These features will be automatically run, when you open relevant websites.",vi:"C√°c ch·ª©c nƒÉng d∆∞·ªõi ƒë√¢y s·∫Ω ƒë∆∞·ª£c t·ª± ƒë·ªông ch·∫°y, khi b·∫°n m·ªü trang web t∆∞∆°ng ·ª©ng"})})}),t.jsx(v,{style:{padding:10},dataSource:l,renderItem:(e,d)=>{var r;return e.isHeader?t.jsx(t.Fragment,{children:t.jsxs("h2",{children:[e.icon," ",n(e.name)]},e.id)}):t.jsx(v.Item,{style:{marginBottom:(r=l[d+1])!=null&&r.isHeader?40:0},children:t.jsxs(H,{disabled:!e.supported,checked:e.enabled,onChange:u=>{s(e)},children:[t.jsxs(j,{title:n(e.desc),children:[t.jsxs(k.Text,{style:{opacity:e.supported?1:.6},children:[t.jsx(b,{type:"vertical"}),e.icon,t.jsx(b,{type:"vertical"}),n(e.name)]}),!e.supported&&t.jsx(B,{count:n({en:"Coming soon",vi:"S·∫Øp c√≥"}),style:{color:"white",marginLeft:10},color:"geekblue"})]}),e.button?t.jsxs(t.Fragment,{children:[t.jsx(b,{type:"vertical"}),e.button]}):null]})})}})]})}export{Z as default};
