import{r as h,n as V,j as K,o as O,X as z,g as _,W as H,E as B,F as G,D as f,H as J,bv as Q,a4 as U,J as Y,bq as Z,bg as ee,aq as ne,bD as ie,aH as te,b4 as N,aJ as m,aL as q,b8 as ae}from"./index-DRt5rAj7.js";import{M as ce,T as le}from"./MyTable-g3SoSFbQ.js";import{w as W,B as oe,S as T,T as D}from"./MyApp-XSygTG_h.js";import{M as se}from"./index-BSUS0-Gf.js";var re=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],P=h.forwardRef(function(e,n){var c,t=e.prefixCls,o=t===void 0?"rc-switch":t,d=e.className,l=e.checked,i=e.defaultChecked,a=e.disabled,s=e.loadingIcon,u=e.checkedChildren,S=e.unCheckedChildren,b=e.onClick,$=e.onChange,I=e.onKeyDown,r=V(e,re),g=W(!1,{value:l,defaultValue:i}),M=K(g,2),v=M[0],w=M[1];function k(p,y){var x=v;return a||(x=p,w(x),$==null||$(x,y)),x}function E(p){p.which===H.LEFT?k(!1,p):p.which===H.RIGHT&&k(!0,p),I==null||I(p)}function C(p){var y=k(!v,p);b==null||b(y,p)}var j=O(o,d,(c={},z(c,"".concat(o,"-checked"),v),z(c,"".concat(o,"-disabled"),a),c));return h.createElement("button",_({},r,{type:"button",role:"switch","aria-checked":v,disabled:a,className:j,ref:n,onKeyDown:E,onClick:C}),s,h.createElement("span",{className:"".concat(o,"-inner")},h.createElement("span",{className:"".concat(o,"-inner-checked")},u),h.createElement("span",{className:"".concat(o,"-inner-unchecked")},S)))});P.displayName="Switch";const de=e=>{const{componentCls:n,trackHeightSM:c,trackPadding:t,trackMinWidthSM:o,innerMinMarginSM:d,innerMaxMarginSM:l,handleSizeSM:i,calc:a}=e,s=`${n}-inner`,u=f(a(i).add(a(t).mul(2)).equal()),S=f(a(l).mul(2).equal());return{[n]:{[`&${n}-small`]:{minWidth:o,height:c,lineHeight:f(c),[`${n}-inner`]:{paddingInlineStart:l,paddingInlineEnd:d,[`${s}-checked, ${s}-unchecked`]:{minHeight:c},[`${s}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${S})`,marginInlineEnd:`calc(100% - ${u} + ${S})`},[`${s}-unchecked`]:{marginTop:a(c).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:i,height:i},[`${n}-loading-icon`]:{top:a(a(i).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:d,paddingInlineEnd:l,[`${s}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${s}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${S})`,marginInlineEnd:`calc(-100% + ${u} - ${S})`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${f(a(i).add(t).equal())})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${s}`]:{[`${s}-unchecked`]:{marginInlineStart:a(e.marginXXS).div(2).equal(),marginInlineEnd:a(e.marginXXS).mul(-1).div(2).equal()}},[`&${n}-checked ${s}`]:{[`${s}-checked`]:{marginInlineStart:a(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:a(e.marginXXS).div(2).equal()}}}}}}},he=e=>{const{componentCls:n,handleSize:c,calc:t}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:t(t(c).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},ue=e=>{const{componentCls:n,trackPadding:c,handleBg:t,handleShadow:o,handleSize:d,calc:l}=e,i=`${n}-handle`;return{[n]:{[i]:{position:"absolute",top:c,insetInlineStart:c,width:d,height:d,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:t,borderRadius:l(d).div(2).equal(),boxShadow:o,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${i}`]:{insetInlineStart:`calc(100% - ${f(l(d).add(c).equal())})`},[`&:not(${n}-disabled):active`]:{[`${i}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${i}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},ge=e=>{const{componentCls:n,trackHeight:c,trackPadding:t,innerMinMargin:o,innerMaxMargin:d,handleSize:l,calc:i}=e,a=`${n}-inner`,s=f(i(l).add(i(t).mul(2)).equal()),u=f(i(d).mul(2).equal());return{[n]:{[a]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:d,paddingInlineEnd:o,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${a}-checked, ${a}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:c},[`${a}-checked`]:{marginInlineStart:`calc(-100% + ${s} - ${u})`,marginInlineEnd:`calc(100% - ${s} + ${u})`},[`${a}-unchecked`]:{marginTop:i(c).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${a}`]:{paddingInlineStart:o,paddingInlineEnd:d,[`${a}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${a}-unchecked`]:{marginInlineStart:`calc(100% - ${s} + ${u})`,marginInlineEnd:`calc(-100% + ${s} - ${u})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${a}`]:{[`${a}-unchecked`]:{marginInlineStart:i(t).mul(2).equal(),marginInlineEnd:i(t).mul(-1).mul(2).equal()}},[`&${n}-checked ${a}`]:{[`${a}-checked`]:{marginInlineStart:i(t).mul(-1).mul(2).equal(),marginInlineEnd:i(t).mul(2).equal()}}}}}},me=e=>{const{componentCls:n,trackHeight:c,trackMinWidth:t}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},J(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:t,height:c,lineHeight:f(c),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),Q(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},Se=e=>{const{fontSize:n,lineHeight:c,controlHeight:t,colorWhite:o}=e,d=n*c,l=t/2,i=2,a=d-i*2,s=l-i*2;return{trackHeight:d,trackHeightSM:l,trackMinWidth:a*2+i*4,trackMinWidthSM:s*2+i*2,trackPadding:i,handleBg:o,handleSize:a,handleSizeSM:s,handleShadow:`0 2px 4px 0 ${new U("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:a/2,innerMaxMargin:a+i+i*2,innerMinMarginSM:s/2,innerMaxMarginSM:s+i+i*2}},pe=B("Switch",e=>{const n=G(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[me(n),ge(n),ue(n),he(n),de(n)]},Se);var $e=function(e,n){var c={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(c[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(c[t[o]]=e[t[o]]);return c};const Ce=h.forwardRef((e,n)=>{const{prefixCls:c,size:t,disabled:o,loading:d,className:l,rootClassName:i,style:a,checked:s,value:u,defaultChecked:S,defaultValue:b,onChange:$}=e,I=$e(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[r,g]=W(!1,{value:s??u,defaultValue:S??b}),{getPrefixCls:M,direction:v,switch:w}=h.useContext(Y),k=h.useContext(Z),E=(o??k)||d,C=M("switch",c),j=h.createElement("div",{className:`${C}-handle`},d&&h.createElement(ie,{className:`${C}-loading-icon`})),[p,y,x]=pe(C),R=ee(t),X=O(w==null?void 0:w.className,{[`${C}-small`]:R==="small",[`${C}-loading`]:d,[`${C}-rtl`]:v==="rtl"},l,i,y,x),A=Object.assign(Object.assign({},w==null?void 0:w.style),a),F=function(){g(arguments.length<=0?void 0:arguments[0]),$==null||$.apply(void 0,arguments)};return p(h.createElement(ne,{component:"Switch"},h.createElement(P,Object.assign({},I,{checked:r,onChange:F,prefixCls:C,className:X,style:A,disabled:E,ref:n,loadingIcon:j}))))}),L=Ce;L.__ANT_SWITCH=!0;function xe({title:e={en:"📈 Words statistic",vi:"📈 Thống kê từ"},text:n,renderButton:c}){const{ti:t}=te(),[o,d]=h.useState(!1),[l,i]=h.useState(5),[a,s]=h.useState(!0),[u,S]=h.useState([]),b=h.useMemo(()=>a?u.filter(r=>r.count>1):u,[a,u]);h.useEffect(()=>{if(o){const r=we(n,l);S(r)}},[o,n,l]);const $=[{title:"#",dataIndex:"index",key:"index",width:70},{title:t({en:"Word",vi:"Từ"}),dataIndex:"word",key:"word",width:"auto"},{title:t({en:"Length",vi:"Độ dài"}),dataIndex:"length",key:"length",sorter:(r,g)=>r.length-g.length,width:100,rangeFilter:{getValue:r=>r.length}},{title:t({en:"Frequency",vi:"Xuất hiện"}),dataIndex:"count",key:"count",sorter:(r,g)=>r.count-g.count,render:(r,g)=>N(g.count),width:100},{title:t({en:"Score",vi:"Điểm"}),dataIndex:"score",key:"score",sorter:(r,g)=>r.score-g.score,render:(r,g)=>N(g.score),width:100}],I=()=>m.jsxs(T,{children:[m.jsxs(T.Compact,{children:[m.jsx(q,{icon:m.jsx("i",{className:"fa-solid fa-minus"}),onClick:()=>i(r=>r-1)}),m.jsx(D,{title:t({en:"Max length",vi:"Độ dài tối đa"}),children:m.jsx(le,{value:l,min:1,max:10,onChange:r=>i(r||1)})}),m.jsx(q,{icon:m.jsx("i",{className:"fa-solid fa-plus"}),onClick:()=>i(r=>r+1)})]}),m.jsx(D,{title:t({en:"Hide words with frequency = 1",vi:"Ẩn từ chỉ xuất hiện 1 lần"}),children:m.jsx(L,{checked:a,onChange:r=>s(r)})})]});return m.jsxs(m.Fragment,{children:[(c==null?void 0:c({showModal:()=>d(!0)}))||m.jsx(oe,{color:"red",style:{color:"white",zIndex:2},count:t({en:"New",vi:"Mới"}),onClick:()=>d(!0),children:m.jsx(q,{icon:m.jsx("i",{className:"fa-solid fa-chart-line"}),children:t({en:"Statistic",vi:"Thống kê"})})}),m.jsx(se,{title:t(e),open:o,onOk:()=>d(!1),onCancel:()=>d(!1),width:"90%",style:{maxWidth:800,minWidth:500},children:m.jsx(ce,{data:b,columns:$,keyExtractor:r=>r.index,renderTitle:I,searchable:!0,virtual:!0,onSearchRow:(r,g)=>ae(r,g==null?void 0:g.word)})})]})}function we(e,n=5){if(!e)return[];const c=e.replace(/[^\p{L}\s]/gu," ").split(/\s+/).filter(l=>l.length>1).map(l=>l.toLowerCase()),t=new Map;for(let l=1;l<=n;l++)for(let i=0;i<=c.length-l;i++){const a=c.slice(i,i+l).join(" ");t.set(a,(t.get(a)||0)+1)}const o=new Map;t.forEach((l,i)=>{const a=i.split(/\s+/).length;o.set(i,l**a)});const d=Array.from(o.entries()).sort(([,l],[,i])=>i-l).map(([l,i],a)=>{const s=l.split(" ").length;return{index:a,word:l,length:s,count:t.get(l)||0,score:i}});return console.log(d),d}export{xe as W};
